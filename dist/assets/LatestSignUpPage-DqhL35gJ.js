import{u as q,r as l,j as e,L as M,y as n}from"./index-eQH2wk6K.js";import{u as R}from"./ImageUploadHook-BZ3Yd-Lv.js";import{a as w,B as z}from"./axios-DjXiXPf6.js";import{s as W}from"./index-qnI1hcJ1.js";const D="/assets/modern-blogger-concept-with-flat-design_23-2147996703-BBuD2te8.jpg",H=()=>{const d=q(),x=localStorage.getItem("token");l.useEffect(()=>{x&&d("/blogs")},[x,d]);const[u,y]=l.useState(""),[m,j]=l.useState(""),[i,v]=l.useState(""),[g,N]=l.useState(""),[h,k]=l.useState(""),[f,S]=l.useState(""),[c,L]=l.useState(null),[p,C]=l.useState(void 0),[o,a]=l.useState({}),P=s=>{if(s.target&&s.target.files&&s.target.files[0]){const r=s.target.files[0];p&&URL.revokeObjectURL(p);const t=URL.createObjectURL(r);C(t),L(r),console.log("img stored in the state")}},B=async s=>{if(s.preventDefault(),!u||!m||!i||!g){n.error("All fields are required!");return}try{const r=c?await R(c):"";if(!r&&c){n.error("Image upload failed. Cannot proceed.");return}await A(r||"")}catch(r){console.error("Error in handleSubmit:",r),n.error("An unexpected error occurred. Please try again.")}},A=async s=>{var r;try{console.log("Validating data with Zod",{name:u,email:m,password:i,blogName:g,profilePicture:s,bio:h,location:f});const t=W.safeParse({name:u,email:m,password:i,blogName:g,profilePicture:s,bio:h,location:f});if(!t.success){a({}),t.error.errors.forEach(b=>{a($=>({...$,[b.path[0]]:b.message}))}),n.error(t.error.errors[0].message);return}const U={...t.data},E=await w.post(`${z}/api/v1/user/signup`,U);n.success("Signup Successfully");const I=E.data.token;localStorage.setItem("token",I),d("/blogs")}catch(t){if(w.isAxiosError(t))switch((r=t.response)==null?void 0:r.status){case 401:n.error("User not found / Sign up first");break;case 411:n.error("Input Not Correct");break;case 500:n.error("Please try again / Internal Server Error");break;case 403:n.error("Email Already in use");break;default:n.error("An unexpected error occurred")}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",children:e.jsxs("div",{className:"bg-black rounded-md shadow-2xl w-full max-w-4xl flex flex-col md:flex-row overflow-hidden",children:[e.jsxs("div",{className:"w-full md:w-1/2 p-8 border-2 border-gray-300 bg-black",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 text-gray-300 text-center",children:"Unleash Your Creativity!"}),e.jsx("div",{className:"",children:e.jsx("img",{src:D,alt:"Blog ",className:"rounded-lg shadow-lg mb-6"})}),e.jsx("p",{className:"text-gray-300 text-lg mb-6 text-center",children:"Join our vibrant community of bloggers and share your unique voice with the world!"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("span",{className:"bg-indigo-500 rounded-full p-2",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("span",{className:"bg-indigo-500 rounded-full p-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})})}),e.jsx("span",{className:"bg-indigo-500 rounded-full p-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})]}),e.jsxs("div",{className:"w-full md:w-1/2 p-8 border-2 bg-black  border-gray-400",children:[e.jsx("h3",{className:"text-3xl font-bold mb-6 text-gray-300 text-center",children:"Sign Up Now!"}),e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center mb-4",children:[e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-200 mb-2 border-4 border-gray-300",children:c?e.jsx("img",{src:p,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),e.jsxs("label",{className:"cursor-pointer bg-gradient-to-r from-purple-500 to-indigo-500 text-white px-4 py-2 rounded-full  transition-colors",children:["Choose Profile Picture",e.jsx("input",{type:"file",className:"hidden",onChange:P,accept:"image/*"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Your Awesome Name",onChange:s=>{y(s.target.value),a(r=>({...r,name:""}))},className:`w-full px-4 py-2 rounded-full border text-gray-300 bg-black focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 ${o.name?"border-red-500 focus:border-red-500":"focus:border-indigo-500"}`,required:!0}),o.name&&e.jsx("p",{className:"text-red-500 text-sm ml-4",children:o.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("input",{type:"email",name:"email",placeholder:"your@email.com",onChange:s=>{j(s.target.value),a(r=>({...r,email:""}))},className:`w-full px-4 py-2 rounded-full border text-gray-300 bg-black focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 ${o.email?"border-red-500 focus:border-red-500":"focus:border-indigo-500"}`,required:!0}),o.email&&e.jsx("p",{className:"text-red-500 text-sm ml-4",children:o.email})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("input",{type:"password",name:"password",placeholder:"Super Secret Password",onChange:s=>{const r=s.target.value;v(r),a(t=>({...t,password:""})),r.length<6?a(t=>({...t,password:"Password must be at least 6 characters"})):/[A-Z]/.test(r)?/[0-9]/.test(r)?/[!@#$%^&*]/.test(r)||a(t=>({...t,password:"Password must contain at least one special character (!@#$%^&*)"})):a(t=>({...t,password:"Password must contain at least one number"})):a(t=>({...t,password:"Password must contain at least one uppercase letter"}))},className:`w-full px-4 py-2 rounded-full border text-gray-300 bg-black 
            focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 
            ${o.password?"border-red-500":"border-gray-300"}`,required:!0}),o.password&&e.jsx("p",{className:"text-red-500 text-sm ml-4",children:o.password}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1 ml-4",children:["Password requirements:",e.jsxs("ul",{className:"list-disc list-inside mt-1",children:[e.jsx("li",{className:i.length>=6?"text-green-500":"",children:"At least 6 characters"}),e.jsx("li",{className:/[A-Z]/.test(i)?"text-green-500":"",children:"One uppercase letter"}),e.jsx("li",{className:/[0-9]/.test(i)?"text-green-500":"",children:"One number"}),e.jsx("li",{className:/[!@#$%^&*]/.test(i)?"text-green-500":"",children:"One special character (!@#$%^&*)"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("input",{type:"text",name:"Bio",placeholder:"Bio",onChange:s=>{k(s.target.value),a(r=>({...r,bio:""}))},className:`w-full px-4 py-2 rounded-full border text-gray-300 bg-black focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 ${o.bio?"border-red-500 focus:border-red-500":"focus:border-indigo-500"}`,required:!0}),o.bio&&e.jsx("p",{className:"text-red-500 text-sm ml-4",children:o.bio})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("input",{type:"text",name:"Location",placeholder:"Location",onChange:s=>{S(s.target.value),a(r=>({...r,location:""}))},className:`w-full px-4 py-2 rounded-full border text-gray-300 bg-black focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 ${o.location?"border-red-500 focus:border-red-500":"focus:border-indigo-500"}`,required:!0}),o.location&&e.jsx("p",{className:"text-red-500 text-sm ml-4",children:o.location})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("select",{name:"blogCategory",onChange:s=>{N(s.target.value),a(r=>({...r,blogName:""}))},className:`w-full px-4 py-2 rounded-full border text-gray-300 bg-black focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 ${o.blogName?"border-red-500 focus:border-red-500":"focus:border-indigo-500"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Your Blog's Superpower"}),e.jsx("option",{value:"technology",children:"Tech Wizardry"}),e.jsx("option",{value:"lifestyle",children:"Life's Adventures"}),e.jsx("option",{value:"travel",children:"Wanderlust Chronicles"}),e.jsx("option",{value:"food",children:"Culinary Quests"}),e.jsx("option",{value:"fashion",children:"Style Spectrum"}),e.jsx("option",{value:"other",children:"Unique Perspectives"})]}),o.blogName&&e.jsx("p",{className:"text-red-500 text-sm ml-4",children:o.blogName})]}),e.jsx("button",{type:"submit",className:"w-full bg-indigo-500 text-yellow-50 font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 hover:text-white transition-all duration-300 transform hover:scale-95 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-opacity-50",children:"Launch My Blogging Journey! ðŸš€"})]}),e.jsx("p",{className:"mt-6 text-sm text-gray-600 text-center",children:"By signing up, you're joining an epic community of creators!"}),e.jsx(M,{to:"/signin",children:e.jsxs("p",{className:"mt-6 text-sm text-gray-300 text-center",children:["Already have an Account"," ",e.jsxs("h5",{className:"font-semibold underline hover:text-yellow-600",children:[" ","Sign In here"]})]})})]})]})})};export{H as default};
